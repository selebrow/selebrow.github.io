"use strict";(self.webpackChunkharlequin_oss_docs=self.webpackChunkharlequin_oss_docs||[]).push([[18],{632:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"usage/playwright/playwright","title":"Playwright","description":"Test project settings","source":"@site/docs/usage/playwright/playwright.md","sourceDirName":"usage/playwright","slug":"/usage/playwright/","permalink":"/docs/usage/playwright/","draft":false,"unlisted":false,"editUrl":"https://github.com/selebrow/selebrow-website/tree/main/docs/usage/playwright/playwright.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Accessing downloaded files","permalink":"/docs/usage/webdriver/download-api"},"next":{"title":"URL parameters","permalink":"/docs/usage/playwright/url-parameters"}}');var r=n(4848),o=n(8453);const i={sidebar_position:1},a="Playwright",l={},c=[{value:"Test project settings",id:"test-project-settings",level:2},{value:"Chrome headless notes",id:"chrome-headless-notes",level:2},{value:"Config excerpt example",id:"config-excerpt-example",level:2}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"playwright",children:"Playwright"})}),"\n",(0,r.jsx)(s.h2,{id:"test-project-settings",children:"Test project settings"}),"\n",(0,r.jsxs)(s.p,{children:["In your Playwright ",(0,r.jsx)(s.a,{href:"https://playwright.dev/docs/test-projects",children:"test project"})," settings, set the ",(0,r.jsx)(s.a,{href:"https://playwright.dev/docs/api/class-testoptions#test-options-connect-options",children:"connectOptions.wsEndpoint"}),"\nin the following format: ",(0,r.jsx)(s.code,{children:"ws://localhost:4444/pw/<chrome|firefox|webkit>/[playwright version]"}),". You can omit the version part, but be prepared\nto update the ",(0,r.jsx)(s.code,{children:"playwright"})," and ",(0,r.jsx)(s.code,{children:"@playwright/test"})," versions in your ",(0,r.jsx)(s.code,{children:"package.json"})," when the ",(0,r.jsx)(s.a,{href:"/docs/configuration/browsers#defaultversion",children:"default version"})," of the Playwright image changes."]}),"\n",(0,r.jsxs)(s.p,{children:["Refer to the ",(0,r.jsx)(s.a,{href:"/docs/usage/playwright/url-parameters",children:"URL parameters page"})," for a full list of additional supported parameters."]}),"\n",(0,r.jsx)(s.h2,{id:"chrome-headless-notes",children:"Chrome headless notes"}),"\n",(0,r.jsxs)(s.p,{children:["Starting from Playwright 1.49.0 (Chrome 130/Chromium 131) the Chrome binary was split into two separate binaries: ",(0,r.jsx)(s.code,{children:"headless-shell"})," and\n",(0,r.jsx)(s.code,{children:"chrome"})," (you can read more about this ",(0,r.jsx)(s.a,{href:"https://developer.chrome.com/blog/chrome-headless-shell",children:"here"}),")."]}),"\n",(0,r.jsx)(s.p,{children:"You now have three different modes for running Chrome:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:'"old headless"'})," (default) \u2014 Uses the ",(0,r.jsx)(s.code,{children:"headless-shell"})," binary."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:'"new headless"'})," \u2014 Enabled via the ",(0,r.jsx)(s.code,{children:"channel=chromium"}),' URL parameter; uses the "real" ',(0,r.jsx)(s.code,{children:"chrome"})," binary."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:'"headful"'})," \u2014 Enabled by setting ",(0,r.jsx)(s.code,{children:"headless=false"}),"; starts Chrome with a GUI under an X server, and allows connecting to it via VNC."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"config-excerpt-example",children:"Config excerpt example"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"export default defineConfig({\n    projects: [\n        {\n            name: 'chrome',\n            use: {\n                ...devices['Desktop Chrome'],\n                connectOptions: {\n                    wsEndpoint: 'ws://localhost:4444/pw/chrome/1.49.0'  // your playwright dependencies must match this version\n// wsEndpoint: \"ws://localhost:4444/pw/chrome\" // image default version will be used\n// wsEndpoint: \"ws://localhost:4444/pw/chrome/1.42.1?arg=--arg1&arg=--arg2=value\"  // you can pass command line argumets to the browser\n// wsEndpoint: \"ws://localhost:4444/pw/chrome/1.42.1?channel=chromium // run Chrome in \"headless new\" mode (supported since Playwright 1.49.0)\n// wsEndpoint: \"ws://localhost:4444/pw/chrome/1.42.1?headless=false   // run in headful mode (also enables VNC)\n// wsEndpoint: \"ws://localhost:4444/pw/chrome/1.42.1?env=PW_TEST_SCREENSHOT_NO_FONTS_READY=1&env=PW_EXPERIMENTAL_SERVICE_WORKER_NETWORK_EVENTS=1 // pass additional environemnt variables\n\n                }\n            }\n        },\n        {\n            name: 'firefox',\n            use: {\n                ...devices['Desktop Firefox'],\n                connectOptions: {\n                    wsEndpoint: 'ws://localhost:4444/pw/firefox/1.49.0'\n// wsEndpoint: 'ws://localhost:4444/pw/firefox/1.49.0?firefoxUserPref=something.enable=false'  // set additional Firefox User prefs\n                }\n            },\n        }\n        {\n            name: 'iPhone 11 Pro',\n            use: {\n                ...devices['iPhone 11 Pro'], // webkit browser will be used, see https://github.com/microsoft/playwright/blob/v1.49.0/packages/playwright-core/src/server/deviceDescriptorsSource.json#L521\n                connectOptions: {\n                    wsEndpoint: 'ws://localhost:4444/pw/webkit/1.49.0'\n                }\n            },\n        }\n...\n"})})]})}function d(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>a});var t=n(6540);const r={},o=t.createContext(r);function i(e){const s=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(o.Provider,{value:s},e.children)}}}]);