"use strict";(self.webpackChunkharlequin_oss_docs=self.webpackChunkharlequin_oss_docs||[]).push([[445],{3452:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>a,contentTitle:()=>c,default:()=>p,frontMatter:()=>t,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"usage/webdriver/clipboard-api","title":"Accessing the clipboard","description":"Selebrow provides an API for accessing the clipboard of the running browser:","source":"@site/docs/usage/webdriver/clipboard-api.md","sourceDirName":"usage/webdriver","slug":"/usage/webdriver/clipboard-api","permalink":"/docs/usage/webdriver/clipboard-api","draft":false,"unlisted":false,"editUrl":"https://github.com/selebrow/selebrow-website/tree/main/docs/usage/webdriver/clipboard-api.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Capabilities","permalink":"/docs/usage/webdriver/capabilities"},"next":{"title":"Accessing Chrome DevTools","permalink":"/docs/usage/webdriver/devtools"}}');var r=o(4848),i=o(8453);const t={},c="Accessing the clipboard",a={},d=[{value:"<code>GET /clipboard/{sessionId}</code>",id:"get-clipboardsessionid",level:2},{value:"<code>POST /clipboard/{sessionId}</code>",id:"post-clipboardsessionid",level:2},{value:"Accessing remote clipboard example",id:"accessing-remote-clipboard-example",level:2}];function l(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"accessing-the-clipboard",children:"Accessing the clipboard"})}),"\n",(0,r.jsx)(s.p,{children:"Selebrow provides an API for accessing the clipboard of the running browser:"}),"\n",(0,r.jsx)(s.h2,{id:"get-clipboardsessionid",children:(0,r.jsx)(s.code,{children:"GET /clipboard/{sessionId}"})}),"\n",(0,r.jsx)(s.p,{children:"Returns plain text clipboard contents in the response."}),"\n",(0,r.jsx)(s.p,{children:"URL path parameters:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"sessionId"})," - Webdriver session id"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"post-clipboardsessionid",children:(0,r.jsx)(s.code,{children:"POST /clipboard/{sessionId}"})}),"\n",(0,r.jsx)(s.p,{children:"Updates plain text clipboard contents with request body."}),"\n",(0,r.jsx)(s.p,{children:"URL path parameters:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"sessionId"})," - Webdriver session id"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"accessing-remote-clipboard-example",children:"Accessing remote clipboard example"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-typescript",children:"const assert = require('node:assert');\nconst { remote } = require('webdriverio');\nconst axios = require('axios');\n\nconst host = 'localhost';\nconst port = 4444;\n(async () => {\n    const delay = ms => new Promise(resolve => setTimeout(resolve, ms))\n\n    const browser = await remote({\n        hostname: host,\n        port: port,\n        path: '/wd/hub',\n        capabilities: {\n            browserName: 'chrome',\n            // browserVersion: '123.0',  // omit to run default (latest) version\n            \"wdio:enforceWebDriverClassic\": true // disable BiDi protocol as Selebrow doesn't support it yet\n        }\n    });\n\n    console.log(browser.sessionId);\n\n    try {\n        await browser.url('https://clipboardjs.com/');\n        const button = await browser.$('button=Copy to clipboard');\n        console.log(await button.getText());\n        await button.click();\n        // get remote clipboard contents\n        const response = await axios.get(`http://${host}:${port}/clipboard/${browser.sessionId}`);\n        console.log(response.data);\n        assert.equal(response.data, 'Just because you can doesn\\'t mean you should \u2014 clipboard.js');\n        // set remote clipboard contents\n        await axios.post(`http://${host}:${port}/clipboard/${browser.sessionId}`, \"hello from Selebrow\");\n    } finally {    \n        await browser.deleteSession();\n    }\n\n})().catch((e) => console.error(e));\n"})})]})}function p(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,s,o)=>{o.d(s,{R:()=>t,x:()=>c});var n=o(6540);const r={},i=n.createContext(r);function t(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);